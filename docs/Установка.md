# Сервер 

## Зависимости

- Python3.104

- Poetry


## Установка

1. Копируем проект с github

   ```sh
   cd ~ && sudo apt install git
   git clone https://github.com/Konstantin-Dudersky/smarthome.git
   ```

2. Установка зависимостей
   ```sh
   cd ~/smarthome/src/setup
   sh ./scripts/python.sh 3.10.5 # указываем актуальную версию питона
   sh ./scripts/poetry.sh	# установка poetry
   poetry install # виртуальное окружение скриптов установки
   ```

3. Установка сервера
   ```sh
   cd ~/smarthome/src/server
   poetry install --no-dev # poetry install
   
   ```

## Обновление

```sh
# синхронизировать исходники
cd ~/smarthome/smarthome
git fetch origin && git reset --hard origin/main && git clean -f -d
# обновить пакеты
cd ~/smarthome/smarthome/src/server
poetry update

```



# Yeelight

Сброс лампы до заводских:

1. Выключите переключатель освещения.
2. Включите и выключите переключатель освещения 5 раз. Не торопитесь, на каждое включение и выключение тратьте 2-3 секунды.
3. Лампочка замигает, через 5 секунд перезапустится и загорится белым цветом.

​    